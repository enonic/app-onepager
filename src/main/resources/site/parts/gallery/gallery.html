<section class="p-gallery xp-part" data-th-id="'g-part-' + ${shuffleID}" data-th-attr="data-gallery-id=${shuffleID}"><!-- Uses PrettyPhoto for lightbox effect and Shuffle for arrangement -->
    <div class="box">
        <div class="center gap">
            <h2 data-th-text="${heading}">Gallery</h2>
            <div class="lead" data-th-utext="${portal.processHtml({'_value=' + description})}">Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac<br />turpis egestas. Vestibulum tortor quam, feugiat vitae.</div>
        </div>

        <div data-th-if="${galleryItems}" data-th-remove="tag">

            <ul data-th-if="${categories}" class="gallery-filter">
                <li class="btn btn-primary active" data-filter="*">All</li>

                <li data-th-each="category : ${categories}" class="btn btn-primary" data-th-attr="data-group=${category.key}" data-th-text="${category.tag}"></li>
            </ul>

            <ul class="gallery-items" id="p-gallery" data-th-id="${shuffleID}">
                <li data-th-each="galleryItem : ${galleryItems}" data-th-class="${galleryItem.liClass}" data-th-attr="data-groups=${galleryItem.groups}">
                    <div class="item-inner">
                        <div class="gallery-image">
                            <a data-th-href="${galleryItem.imgUrl}" rel="prettyPhoto[gallery]" data-th-rel="'prettyPhoto[' + ${shuffleID} + ']'" class="preview" data-th-title="${galleryItem.caption}">
                                <img data-th-src="${galleryItem.thumb}"/>
                            </a>
                        </div>
                        <h5 data-th-text="${galleryItem.caption}"></h5>
                    </div>
                </li>
            </ul>

        </div>

    </div>
</section>